<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جعبه راه‌حل‌ها</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f8fafc;
        }
        .card-item {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            border: 1px solid #e5e7eb;
        }
        .card-item:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .tag {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .modal-base {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
        .lang-btn {
            cursor: pointer;
            padding: 2px;
            border: 2px solid transparent;
            border-radius: 9999px;
            transition: border-color 0.2s;
        }
        .lang-btn.active {
            border-color: #4f46e5;
        }
    </style>
</head>
<body class="text-gray-900">

    <div class="container mx-auto p-4 md:p-8 min-h-screen flex flex-col">
        <header class="text-center mb-10">
            <div class="flex justify-between items-center relative mb-2">
                 <div class="flex items-center gap-x-2 absolute right-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-700"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                    <h1 class="text-3xl md:text-5xl font-bold text-indigo-700" data-translate-key="mainTitle">جعبه راه‌حل‌ها</h1>
                 </div>
                 <div class="absolute left-0 top-1/2 -translate-y-1/2 flex items-center gap-x-4">
                    <div id="lang-switcher" class="flex gap-x-2">
                        <img src="https://flagcdn.com/ir.svg" width="28" alt="فارسی" class="lang-btn active" data-lang="fa">
                        <img src="https://flagcdn.com/gb.svg" width="28" alt="English" class="lang-btn" data-lang="en">
                        <img src="https://flagcdn.com/sa.svg" width="28" alt="العربية" class="lang-btn" data-lang="ar">
                    </div>
                    <button id="help-btn" class="bg-gray-200 text-gray-700 hover:bg-indigo-100 hover:text-indigo-700 font-bold w-10 h-10 rounded-full transition-colors flex items-center justify-center text-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                    </button>
                 </div>
            </div>
            <p class="text-gray-500 mt-4 text-md md:text-lg" data-translate-key="subtitle">پیمایش چالش‌های تغذیه‌ای نوجوانان با راه‌حل‌های مبتنی بر شواهد</p>
            <div id="breadcrumb" class="mt-4 h-6"></div>
        </header>

        <div class="mb-8 max-w-2xl mx-auto">
            <div class="flex items-center gap-2">
                <input type="search" id="search-input" data-translate-placeholder="searchPlaceholder" placeholder="جستجو در دامنه‌ها، مشکلات و راه‌حل‌ها..." class="w-full px-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition">
                <button id="google-search-btn" class="bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600 transition-colors flex-shrink-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                </button>
            </div>
        </div>

        <main class="flex-grow">
            <!-- Pages Container -->
            <div id="domains-page" class="page active">
                <div id="domains-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
            </div>
            <div id="problems-page" class="page">
                <div id="problems-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>
            <div id="solutions-page" class="page">
                <div id="solutions-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>
            <div id="search-results-page" class="page">
                <div id="search-results-container" class="space-y-4"></div>
            </div>
        </main>
        
        <footer class="text-center mt-12 py-4 border-t">
            <p class="text-gray-600" data-translate-key="footerText">طراحی و توسعه: دکتر فاطمه زارعی</p>
        </footer>
    </div>

    <!-- Solution Details Modal -->
    <div id="solution-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden">
        <div id="modal-content-solution" class="modal-base bg-white rounded-2xl shadow-2xl w-full max-w-3xl transform scale-95 opacity-0">
            <div class="p-6 border-b border-gray-200 flex justify-between items-start">
                <h3 id="modal-solution-text" class="text-2xl font-bold text-gray-800"></h3>
                <button class="close-modal-btn text-gray-400 hover:text-gray-700 text-4xl font-light">&times;</button>
            </div>
            <div class="p-6 space-y-6 max-h-[70vh] overflow-y-auto">
                <div class="bg-red-50 p-4 rounded-lg">
                    <h4 class="font-bold text-red-800 mb-2" data-translate-key="problemAnalysisTitle">مسئله شناسی</h4>
                    <p id="modal-problem" class="font-semibold"></p>
                    <p id="modal-problem-description" class="text-gray-700 mt-1"></p>
                </div>
                <div id="modal-factors-container" class="space-y-4"></div>
            </div>
        </div>
    </div>

    <!-- Help/About Modal -->
    <div id="help-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden">
        <div id="modal-content-help" class="modal-base bg-white rounded-2xl shadow-2xl w-full max-w-3xl transform scale-95 opacity-0">
            <div class="p-6 border-b border-gray-200 flex justify-between items-start">
                <h3 class="text-2xl font-bold text-gray-800" data-translate-key="helpTitle">راهنمای جعبه راه‌حل‌ها</h3>
                <button class="close-modal-btn text-gray-400 hover:text-gray-700 text-4xl font-light">&times;</button>
            </div>
            <div class="p-6 space-y-6 max-h-[70vh] overflow-y-auto text-justify leading-relaxed">
                <div>
                    <h4 class="font-bold text-indigo-700 text-lg mb-2" data-translate-key="helpIntroTitle">مقدمه</h4>
                    <p data-translate-key="helpIntroText">این پلتفرم به عنوان یک ابزار تصمیم‌یار برای برنامه‌ریزان آموزش بهداشت و ارتقای سلامت طراحی شده است. هدف اصلی "جعبه راه‌حل‌ها"، ارائه مجموعه‌ای از راه‌حل‌های مبتنی بر شواهد برای مقابله با مشکلات تغذیه‌ای نوجوانان است. شما می‌توانید با پیمایش در میان دامنه‌ها و مشکلات، به راه‌حل مناسب دست یابید و عوامل کلیدی مرتبط با هر راه‌حل را مشاهده نمایید.</p>
                </div>
                 <div>
                    <h4 class="font-bold text-indigo-700 text-lg mb-2" data-translate-key="helpHowToTitle">نحوه استفاده</h4>
                    <ol class="list-decimal list-inside space-y-2" data-translate-key="helpHowToSteps">
                        <li><b>انتخاب دامنه:</b> از صفحه اصلی، یکی از دامنه‌های کلی مشکلات تغذیه‌ای را انتخاب کنید.</li>
                        <li><b>انتخاب مشکل:</b> پس از انتخاب دامنه، لیستی از مشکلات مرتبط نمایش داده می‌شود. مشکل مورد نظر خود را انتخاب کنید.</li>
                        <li><b>بررسی راه‌حل‌ها:</b> با انتخاب مشکل، تمام راه‌حل‌های پیشنهادی برای آن نمایش داده می‌شوند.</li>
                        <li><b>مشاهده جزئیات:</b> با کلیک بر روی هر راه‌حل، پنجره‌ای باز می‌شود که شامل شرح دقیق مشکل و تحلیل کامل راه‌حل بر اساس دسته‌بندی‌های مختلف (استراتژی‌های ارتقای سلامت، عوامل اجتماعی، سطوح پیشگیری و...) است.</li>
                    </ol>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border">
                    <h4 class="font-bold text-indigo-700 text-lg mb-2" data-translate-key="helpScientificTitle">شناسنامه علمی</h4>
                    <p class="text-sm" data-translate-key="helpScientificText">
                        محتوای این پلتفرم بر گرفته از رساله دکتری رشته آموزش بهداشت و ارتقای سلامت سرکار خانم <strong>نسرین مهرجویان</strong> با عنوان "تدوین جعبه راه حل های بهبود رفتارهای تغذیه ای دختران مدارس استان خوزستان: یک مطالعه ترکیبی" می‌باشد.
                        <br>
                        این پژوهش مورد تایید مرکز تحقیقات اخلاق پزشکی دانشگاه تربیت مدرس <strong>[IR.MODARES.REC.1402.247]</strong> قرار گرفته است.
                        <br><br>
                        <strong>اساتید راهنما:</strong> سرکار خانم دکتر فاطمه زارعی، آقای دکتر فضل اله غفرانی پور
                        <br>
                        <strong>استاد مشاور:</strong> آقای دکتر فضل اله احمدی
                        <br>
                        (اعضای هیات علمی دانشکده علوم پزشکی، دانشگاه تربیت مدرس)
                    </p>
                </div>
                 <div>
                    <h4 class="font-bold text-indigo-700 text-lg mb-2" data-translate-key="helpContactTitle">ارتباط با ما</h4>
                    <p data-translate-key="helpContactText">برای اطلاعات بیشتر و همکاری‌های علمی، می‌توانید از طریق ایمیل زیر در ارتباط باشید:</p>
                    <p class="text-left" dir="ltr"><strong>f.zarei@modares.ac.ir</strong></p>
                </div>
            </div>
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', function () {
        // --- HIERARCHICAL DATA STRUCTURE ---
        const solutionBoxData = [
            {
                domainId: 1,
                domainName: "رفتار تغذیه‌ای تحت استرس",
                problems: [
                    {
                        problemId: 101,
                        problemName: "پرخوری غذاهای ناسالم به دلیل گرسنگی ناشی از استرس",
                        solutions: [
                            { id: 1, solution: "راهنمایی در مورد مدیریت گرسنگی با وعده‌های غذایی متعادل", problemDescription: "پرش وعده‌های غذایی یا فاصله‌های طولانی منجر به پرخوری میان‌وعده‌های ناسالم می‌شود.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی", "واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "خودتنظیمی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده", "اجتماع(مدرس)"] } }
                        ]
                    },
                    {
                        problemId: 102,
                        problemName: "افزایش اشتها در طول استرس",
                        solutions: [
                            { id: 2, solution: "نوشیدن آب برای مدیریت استرس", problemDescription: "استرس اشتها را افزایش می‌دهد و منجر به میان‌وعده‌های ناسالم می‌شود.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی", "توانمندسازی", "واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری", "محیط زیست"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "خودتنظیمی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "اجتماع(مدرس)"] } },
                            { id: 3, solution: "راه کارهای مدیریت استرس برای مبارزه با پرخوری ناشی از استرس", problemDescription: "ارائه تکنیک‌های عملی کنترل استرس، نیاز به خوردن هیجانی را کاهش می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی", "واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["محیط زیست"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "خودتنظیمی"], "سطوح پیشگیری": ["دو"], "تمرکز بوم شناختی": ["فرد", "اجتماع(مدرس)"] } },
                            { id: 4, solution: "آموزش میان وعده‌های سالم قبل از شروع امتحانات", problemDescription: "آماده‌سازی و در دسترس قرار دادن گزینه‌های سالم، از روی آوردن به خوراکی‌های ناسالم در زمان استرس جلوگیری می‌کند.", factors: { "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده"] } }
                        ]
                    },
                    {
                        problemId: 103,
                        problemName: "پرش از صبحانه به دلیل استرس",
                        solutions: [
                            { id: 5, solution: "آموزش اهمیت مصرف صبحانه برای یادگیری و حافظه قوی", problemDescription: "استرس برنامه‌های صبحگاهی را مختل می‌کند و منجر به پرش از صبحانه می‌شود.", factors: { "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده", "اجتماع(مدرس)"] } },
                            { id: 6, solution: "به‌روزرسانی تابلوهای سلامت مدرسه با نکات صبحانه مغذی", problemDescription: "یادآوری‌های بصری در محیط مدرسه می‌تواند اهمیت صبحانه را به دانش‌آموزان گوشزد کند.", factors: { "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["جامعه"] } }
                        ]
                    },
                    {
                        problemId: 104,
                        problemName: "از دست دادن اشتها در طول استرس",
                        solutions: [
                            { id: 7, solution: "نوشیدن آب برای مدیریت استرس", problemDescription: "برخی افراد در طول استرس کاهش اشتها را تجربه می‌کنند که منجر به مصرف کم می‌شود.", factors: { "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 8, solution: "کاهش مصرف کافئین برای مدیریت کاهش اشتها", problemDescription: "کافئین می‌تواند اشتها را سرکوب کند؛ کاهش آن به بازگشت اشتهای طبیعی کمک می‌کند.", factors: { "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 9, solution: "آموزش مصرف مواد مغذی و فعالیت‌های بدنی برای بهبود اشتها", problemDescription: "فعالیت بدنی متابولیسم را تحریک کرده و اشتها را به صورت طبیعی افزایش می‌دهد.", factors: { "تمرکز بوم شناختی": ["فرد", "خانواده"] } }
                        ]
                    },
                    {
                        problemId: 105,
                        problemName: "مصرف آبمیوه‌های تجاری در طول استرس",
                        solutions: [
                            { id: 10, solution: "تشویق به مصرف آبمیوه‌های طبیعی برای مدیریت استرس", problemDescription: "دانش‌آموزان آبمیوه‌های تجاری شیرین را به عنوان راه حل سریع در طول استرس مصرف می‌کنند.", factors: { "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 11, solution: "آموزش در مورد اثرات شکر بر بدن و سلامت", problemDescription: "آگاهی از مضرات قند اضافی، انگیزه برای انتخاب گزینه‌های سالم‌تر را افزایش می‌دهد.", factors: { "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 12, solution: "آموزش فواید مصرف میوه برای کاهش استرس", problemDescription: "معرفی میوه‌ها به عنوان جایگزین شیرین و سالم، الگوی مصرف را بهبود می‌بخشد.", factors: { "تمرکز بوم شناختی": ["فرد", "خانواده"] } }
                        ]
                    },
                    {
                        problemId: 106,
                        problemName: "هوس شیرینی در زمان احساس استرس",
                        solutions: [
                            { id: 13, solution: "آموزش تکنیک‌های خوردن آگاهانه برای مدیریت هوس", problemDescription: "استرس هوس شیرینی را القا می‌کند که منجر به مصرف بیش از حد قند می‌شود.", factors: { "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } }
                        ]
                    }
                ]
            },
            {
                domainId: 2,
                domainName: "عوامل مرتبط با زیر ساخت های مدرسه",
                problems: [
                    {
                        problemId: 201,
                        problemName: "مصرف غذاهای ناسالم در مدرسه",
                        solutions: [
                            { id: 14, solution: "ابلاغ دستورالعمل‌های غذایی مدرسه برای میان‌وعده‌های سالم", problemDescription: "گزینه‌های سالم محدود در مدارس دانش‌آموزان را به سمت میان‌وعده‌های ناسالم سوق می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی", "واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["سیاست", "علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["سیاست", "اجتماع(مدرس)"] } },
                            { id: 15, solution: "برگزاری جلسات منظم آموزش تغذیه", problemDescription: "افزایش دانش تغذیه‌ای، توانایی دانش‌آموزان و والدین را برای انتخاب‌های سالم بالا می‌برد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده", "اجتماع(مدرس)"] } },
                            { id: 16, solution: "همراه سازی والدین در نظارت بر تغذیه و آموزش تغذیه سالم در خانه", problemDescription: "مشارکت والدین، نظارت بر تغذیه دانش‌آموز را به خارج از مدرسه گسترش می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["محیط", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده", "فرد"] } },
                            { id: 17, solution: "استفاده از ظرفیت سفیران سلامت دانش‌آموزی برای آموزش تغذیه سالم به همسالان", problemDescription: "آموزش توسط همسالان به دلیل پذیرش بالاتر، اثربخشی بیشتری دارد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "فرد"] } }
                        ]
                    },
                    {
                        problemId: 202,
                        problemName: "استانداردهای غذایی نامنظم در غذاخوری‌ها",
                        solutions: [
                             { id: 18, solution: "بازرسی‌های بهداشتی از بوفه‌های غذای مدرسه", problemDescription: "استانداردهای غذایی نامنظم در غذاخوری‌ها بر انتخاب‌های دانش‌آموزان تأثیر می‌گذارد.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی"], "عوامل اجتماعی موثر بر سلامت": ["سیاست", "محیط زیست"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["دو"], "تمرکز بوم شناختی": ["سیاست", "اجتماع(مدرس)"] } }
                        ]
                    },
                    {
                        problemId: 203,
                        problemName: "فروش غذاهای ناسالم در مدرسه",
                        solutions: [
                            { id: 19, solution: "اجرای سیاست‌های مدرسه برای ممنوعیت غذاهای ناسالم", problemDescription: "مدارس میان‌وعده‌های پرچرب و شیرین می‌فروشند که عادات غذایی ضعیف را ترویج می‌کنند.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی"], "عوامل اجتماعی موثر بر سلامت": ["سیاست", "اقتصاد"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["سیاست", "اجتماع(مدرس)"] } },
                            { id: 20, solution: "ترویج گزینه‌های میان‌وعده مغذی در غذاخوری‌ها", problemDescription: "افزایش دسترسی به گزینه‌های سالم، به طور مستقیم انتخاب‌های دانش‌آموزان را بهبود می‌بخشد.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری", "توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["اقتصاد", "علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } },
                            { id: 21, solution: "استفاده از مشوق‌ها برای خرید مواد غذایی سالم", problemDescription: "مشوق‌های مالی یا غیرمالی می‌تواند دانش‌آموزان را به سمت انتخاب‌های سالم‌تر سوق دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["اقتصاد"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش", "خودتنظیمی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "فرد"] } },
                            { id: 22, solution: "بازاریابی مواد غذایی مغذی با تبلیغ از طریق پوسترهای جذاب", problemDescription: "استفاده از تکنیک‌های بازاریابی برای غذای سالم، جذابیت آن را در برابر گزینه‌های ناسالم افزایش می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } }
                        ]
                    },
                    {
                        problemId: 204,
                        problemName: "کمبود کارکنان بهداشتی",
                        solutions: [
                            { id: 23, solution: "بازدیدهای منظم کارکنان بهداشت از مدارس", problemDescription: "عدم وجود کارکنان بهداشتی دسترسی به راهنمایی تغذیه در مدارس را محدود می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی"], "عوامل اجتماعی موثر بر سلامت": ["سیاست", "اقتصاد"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["سیاست", "جامعه", "اجتماع(مدرس)"] } },
                            { id: 24, solution: "تفویض نقش‌های آموزش سلامت در بین کارکنان مدرسه", problemDescription: "آموزش معلمان و کارکنان برای ارائه مشاوره‌های اولیه تغذیه، خلاء موجود را پر می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } }
                        ]
                    },
                    {
                        problemId: 205,
                        problemName: "اطلاع‌رسانی تغذیه‌ای ناکافی",
                        solutions: [
                            { id: 25, solution: "ایجاد تابلوهای اعلانات تغذیه و به‌روزرسانی‌های دوره‌ای", problemDescription: "بدون اطلاعیه‌های بهداشتی- تغذیه‌ای، دانش‌آموزان از یادآوری‌های روزانه تغذیه بی‌بهره هستند.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } },
                            { id: 26, solution: "استفاده از وسایل کمک بصری و پوستر برای آگاهی از تغذیه", problemDescription: "محتوای بصری جذاب، پیام‌های تغذیه‌ای را به شکل موثرتری منتقل می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } },
                            { id: 27, solution: "ارسال نوتیفیکیشن‌های آموزشی شامل پیامک کوتاه به والدین دانش‌آموز درباره تغذیه سالم", problemDescription: "ارتباط مستقیم و منظم با والدین، هماهنگی بین خانه و مدرسه را تقویت می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده"] } }
                        ]
                    }
                ]
            },
            {
                domainId: 3,
                domainName: "ترجیحات و الگوهای غذایی",
                problems: [
                    {
                        problemId: 301,
                        problemName: "هوس شیرینی و غذای ناسالم به دلیل طعم",
                        solutions: [
                            { id: 28, solution: "برگزاری جلسات آموزشی در مورد انتخاب جایگزین‌های سالم‌تر و کم شکر", problemDescription: "دانش‌آموزان طعم شیرینی و میان‌وعده‌های خوشمزه را ترجیح می‌دهند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "انتظارارزش", "خودتنظیمی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده"] } },
                            { id: 29, solution: "معرفی میان‌وعده‌های خوش طعم سالم در بوفه مدرسه", problemDescription: "ارائه جایگزین‌های سالم و در عین حال خوشمزه، به تغییر ذائقه کمک می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["اقتصاد", "محیط زیست"], "سازهای تئوری شناخت اجتماعی": ["محیط", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } }
                        ]
                    },
                    {
                        problemId: 302,
                        problemName: "آموزش تغذیه در مورد طعم‌ها و ترجیحات طعم",
                        solutions: [
                            { id: 30, solution: "توزیع بروشورهای تغذیه‌ای با تأکید بر انتخاب‌های سالم", problemDescription: "دانش‌آموزان تمایل دارند طعم‌ها و مواد غذایی جدید را امتحان کنند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 31, solution: "برپایی جشنواره تست طعم با تنقلات سالم در مدرسه", problemDescription: "ایجاد تجربه مثبت و لذت‌بخش با طعم‌های جدید، مقاومت در برابر غذای سالم را کاهش می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری", "توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["محیط", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "فرد"] } }
                        ]
                    },
                    {
                        problemId: 303,
                        problemName: "تمایل به مصرف خوراکی‌های ناسالم در دورهمی‌ها",
                        solutions: [
                            { id: 32, solution: "برگزاری جشن‌ها و مراسم با ارائه خوراکی‌های سالم", problemDescription: "در مهمانی‌ها و دورهمی‌ها، تمایل نوجوانان به مصرف خوراکی‌های ناسالم بیشتر است.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["تغییرات اجتماعی-اقتصادی"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "خانواده"] } },
                            { id: 33, solution: "طراحی و توزیع بروشورهای جذاب با گزینه‌های سالم برای مهمانی", problemDescription: "ارائه ایده‌های عملی و جذاب به خانواده‌ها، کیفیت تغذیه در مهمانی‌ها را بهبود می‌بخشد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده", "فرد"] } }
                        ]
                    },
                    {
                        problemId: 304,
                        problemName: "عدم تمایل به مصرف گوشت به دلیل بو",
                        solutions: [
                            { id: 34, solution: "برگزاری کارگاه‌های آشپزی برای معرفی روش‌های کاهش بوی گوشت با ادویه‌ها", problemDescription: "بعضی از نوجوانان به دلیل بوی خاص گوشت، تمایلی به خوردن آنها ندارند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده", "فرد"] } },
                            { id: 35, solution: "آموزش استفاده از منابع پروتئینی جایگزین", problemDescription: "معرفی منابع پروتئینی متنوع (گیاهی و حیوانی) انتخاب‌های بیشتری پیش روی دانش‌آموزان قرار می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } }
                        ]
                    },
                    {
                        problemId: 305,
                        problemName: "آموزش در مورد مزایای پروتئین‌های حیوانی",
                        solutions: [
                            { id: 36, solution: "توزیع جزوه‌ها و لیست منابع پروتئینی گیاهی و حیوانی", problemDescription: "نوجوانان اطلاعات کافی درباره پروتئین‌های حیوانی و جایگزین‌ها ندارند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده"] } },
                            { id: 37, solution: "برگزاری جلسات آگاه‌سازی در مورد اهمیت پروتئین‌ها", problemDescription: "افزایش آگاهی در مورد نقش پروتئین در رشد، انگیزه مصرف آن را تقویت می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "اجتماع(مدرس)"] } }
                        ]
                    }
                ]
            },
            {
                domainId: 4,
                domainName: "دانش تغذیه‌ای",
                problems: [
                    {
                        problemId: 401,
                        problemName: "اطلاعات تغذیه‌ای ناکافی",
                        solutions: [
                            { id: 38, solution: "برگزاری کارگاه‌های سواد تغذیه در مدارس ویژه کارکنان مدرسه", problemDescription: "دانش محدود تغذیه مانع از انتخاب‌های غذایی سالم می‌شود.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } },
                            { id: 39, solution: "ایجاد محتوای دیجیتال آموزشی درباره تغذیه سالم", problemDescription: "محتوای دیجیتال به دلیل دسترسی آسان و جذابیت، ابزار مناسبی برای آموزش نسل جدید است.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["جامعه", "اجتماع(مدرس)"] } },
                            { id: 40, solution: "تولید ویدیوهای کوتاه با محتوای جذاب برای معرفی غذاهای سالم", problemDescription: "ویدیوهای کوتاه و سرگرم‌کننده پیام‌های آموزشی را به سرعت و به طور موثر منتقل می‌کنند.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["جامعه", "فرد"] } }
                        ]
                    },
                    {
                        problemId: 402,
                        problemName: "عدم برگزاری جلسات آموزش تغذیه توسط همسالان",
                        solutions: [
                            { id: 41, solution: "استفاده از دانش‌آموزان به عنوان سفیران سلامت برای ترویج تغذیه سالم", problemDescription: "انتقال اطلاعات تغذیه‌ای از طریق همسالان تأثیر بیشتری بر دانش‌آموزان دارد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["محیط", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "فرد"] } },
                            { id: 42, solution: "ایجاد برنامه‌های همسالان در مدارس", problemDescription: "رسمی‌سازی برنامه‌های آموزش توسط همسالان، پایداری و اثربخشی آن را افزایش می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی", "توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["سیاست"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } }
                        ]
                    },
                    {
                        problemId: 403,
                        problemName: "فقدان مفاهیم سواد تغذیه‌ای در برنامه درسی",
                        solutions: [
                            { id: 43, solution: "افزودن آموزش تغذیه‌ای به درس‌های علوم و بهداشت", problemDescription: "ادغام مفاهیم تغذیه سالم در برنامه درسی باعث تداوم یادگیری می‌شود.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی"], "عوامل اجتماعی موثر بر سلامت": ["سیاست", "علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["سیاست", "جامعه"] } },
                            { id: 44, solution: "توسعه محتواهای چندرسانه‌ای برای تشویق یادگیری از طریق بازی", problemDescription: "یادگیری مبتنی بر بازی، انگیزه دانش‌آموزان را برای درگیر شدن با مفاهیم آموزشی افزایش می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری", "توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "اجتماع(مدرس)"] } }
                        ]
                    },
                    {
                        problemId: 404,
                        problemName: "کمبود محتوای آموزش سواد تغذیه‌ای ویژه دانش‌آموزان",
                        solutions: [
                            { id: 45, solution: "تدوین بروشور و کتابچه‌های آموزشی جذاب درباره تغذیه سالم", problemDescription: "منابع آموزشی محدود در دسترس دانش‌آموزان وجود دارد.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "خانواده"] } },
                            { id: 46, solution: "ایجاد یک اپلیکیشن آموزشی مختص دانش‌آموزان برای یادگیری تغذیه سالم", problemDescription: "اپلیکیشن‌های موبایل ابزاری مدرن و تعاملی برای آموزش مداوم هستند.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری", "توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری", "اقتصاد"], "سازهای تئوری شناخت اجتماعی": ["محیط", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } }
                        ]
                    },
                    {
                        problemId: 405,
                        problemName: "کمبود برگزاری کارگاه‌های آموزش سواد تغذیه برای والدین",
                        solutions: [
                            { id: 47, solution: "برگزاری جلسات آموزشی ویژه والدین برای افزایش آگاهی تغذیه‌ای", problemDescription: "والدین به دانش تغذیه‌ای کافی برای حمایت از دانش‌آموزان نیاز دارند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده", "اجتماع(مدرس)"] } },
                            { id: 48, solution: "ایجاد گروه‌های حمایتی آنلاین برای اشتراک‌گذاری اطلاعات تغذیه‌ای", problemDescription: "فضای آنلاین امکان تبادل تجربه و حمایت مستمر بین والدین را فراهم می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی", "واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده", "جامعه"] } }
                        ]
                    },
                    {
                        problemId: 406,
                        problemName: "عدم مشارکت دانش آموز در طبخ غذا",
                        solutions: [
                            { id: 49, solution: "دعوت از مشاوران تغذیه برای آموزش در مدارس", problemDescription: "عدم تجربه عملی در آشپزی، مانع درک کامل تغذیه سالم است.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "فرد"] } }
                        ]
                    },
                    {
                        problemId: 407,
                        problemName: "فقدان آموزش آشپزی به دانش‌آموزان",
                        solutions: [
                            { id: 50, solution: "ایجاد پروژه‌های آشپزی در مدارس با استفاده از مواد غذایی سالم", problemDescription: "مشارکت در آشپزی می‌تواند انگیزه دانش‌آموزان را برای تغذیه سالم افزایش دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی", "واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "فرد", "خانواده"] } }
                        ]
                    },
                    {
                        problemId: 408,
                        problemName: "عدم درک ارتباط بین تغذیه با سلامت روان",
                        solutions: [
                            { id: 51, solution: "برگزاری جلسات آگاهی‌بخشی ویژه والدین و دانش‌آموزان", problemDescription: "تغذیه نامناسب ممکن است تأثیر منفی بر سلامت روان بگذارد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده"] } }
                        ]
                    }
                ]
            },
            {
                domainId: 5,
                domainName: "محیط فیزیکی و دسترسی",
                problems: [
                    {
                        problemId: 501,
                        problemName: "برنامه‌های درسی شلوغ مدرسه که بر پایبندی به رژیم غذایی تأثیر می‌گذارد",
                        solutions: [
                            { id: 52, solution: "برنامه‌ریزی برای مصرف میان‌وعده‌های کوچک و سالم", problemDescription: "برنامه‌های فشرده توانایی دانش‌آموزان را در حفظ وعده‌های غذایی منظم مختل می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودتنظیمی", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 53, solution: "ترویج میان‌وعده‌های سریع آماده و مغذی", problemDescription: "ارائه گزینه‌های سالم و سریع، به دانش‌آموزان کمک می‌کند تا در زمان کوتاه نیز انتخاب درستی داشته باشند.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری", "اقتصاد"], "سازهای تئوری شناخت اجتماعی": ["محیط", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } },
                            { id: 54, solution: "تخصیص زمان‌های کوتاه در برنامه‌ریزی روزانه برای خوردن میان‌وعده", problemDescription: "گنجاندن زمان‌های کوتاه استراحت در برنامه رسمی مدرسه، فرصت لازم برای تغذیه را فراهم می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی"], "عوامل اجتماعی موثر بر سلامت": ["سیاست"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["سیاست", "اجتماع(مدرس)"] } }
                        ]
                    },
                    {
                        problemId: 502,
                        problemName: "دسترسی آسان به غذاهای ناسالم در خانه، مدرسه و فضاهای عمومی",
                        solutions: [
                            { id: 55, solution: "آموزش والدین در مورد خرید غذای سالم", problemDescription: "غذاهای ناسالم به طور گسترده در دسترس هستند و دسترسی به آن‌ها آسان است.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["محیط", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده"] } },
                            { id: 56, solution: "تدوین برنامه تغذیه‌ای مبتنی بر سواد رسانه‌ای برای والدین", problemDescription: "افزایش سواد رسانه‌ای به والدین کمک می‌کند تا در برابر تبلیغات مواد غذایی ناسالم مقاومت کنند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده"] } },
                            { id: 57, solution: "ترویج استفاده از اپلیکیشن‌های غذایی جهت تشخیص ارزش غذایی", problemDescription: "استفاده از فناوری به دانش‌آموزان امکان می‌دهد تا به سرعت ارزش غذایی مواد خوراکی را بسنجند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی", "واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "خودتنظیمی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } }
                        ]
                    },
                    {
                        problemId: 503,
                        problemName: "تأثیر زندگی در خوابگاه بر تغذیه",
                        solutions: [
                            { id: 58, solution: "راهنمایی در مورد برنامه‌ریزی وعده‌های غذایی برای دانش آموزان خوابگاه", problemDescription: "زندگی در خوابگاه گزینه‌های غذایی را محدود می‌کند و منجر به وابستگی به غذاهای آماده می‌شود.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "خودتنظیمی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "اجتماع(مدرس)"] } },
                            { id: 59, solution: "ارائه گزینه‌های غذایی سالم مناسب خوابگاه", problemDescription: "بهبود منوی غذایی خوابگاه و ارائه گزینه‌های سالم، تاثیر مستقیمی بر سلامت دانش‌آموزان دارد.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی", "واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["سیاست", "اقتصاد"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } }
                        ]
                    }
                ]
            },
            {
                domainId: 6,
                domainName: "چرخه زندگی و چالش‌های بلوغ",
                problems: [
                    {
                        problemId: 601,
                        problemName: "افزایش اشتها و مصرف غذای ناسالم در طول قاعدگی",
                        solutions: [
                             { id: 60, solution: "راهنمایی در مورد گزینه‌های غنی از مواد مغذی در طول قاعدگی", problemDescription: "قاعدگی ممکن است هوس و اشتها را افزایش دهد، اغلب برای غذاهای ناسالم.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "خودتنظیمی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } }
                        ]
                    },
                    {
                        problemId: 602,
                        problemName: "توجیه پرخوری به عنوان بخشی از رشد نوجوانان",
                        solutions: [
                            { id: 61, solution: "آموزش در مورد رژیم‌های غذایی متعادل در طول دوره‌های رشد مانند بلوغ و قاعدگی", problemDescription: "بسیاری از نوجوانان پرخوری را به رشد خود نسبت می‌دهند و از این موضوع غافل‌اند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده"] } }
                        ]
                    },
                    {
                        problemId: 603,
                        problemName: "نگرانی‌های غذایی در مهمانی‌ها و مناسبت‌ها",
                        solutions: [
                            { id: 62, solution: "آموزش و آگاهی‌بخشی درباره انتخاب سالم‌تر در موقعیت‌های اجتماعی", problemDescription: "بسیاری از نوجوانان در مناسبت‌ها غذاهای ناسالم مصرف می‌کنند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "خودتنظیمی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده"] } }
                        ]
                    },
                    {
                        problemId: 604,
                        problemName: "تأثیر همسالان در انتخاب‌های غذایی ناسالم",
                        solutions: [
                            { id: 63, solution: "برگزاری جلسات گروهی با موضوع اهمیت تغذیه سالم", problemDescription: "بسیاری از نوجوانان به دلیل تأثیر دوستان خود به سمت خوراکی‌های ناسالم جذب می‌شوند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی", "واسطه گری"], "سازهای تئوری شناخت اجتماعی": ["محیط", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "فرد"] } }
                        ]
                    },
                    {
                        problemId: 605,
                        problemName: "کمبود فعالیت بدنی به دلیل تغییرات فیزیکی و اجتماعی بلوغ",
                        solutions: [
                            { id: 64, solution: "تشویق به فعالیت‌های بدنی متنوع و مفرح آسان و ارزان", problemDescription: "کاهش فعالیت بدنی می‌تواند به افزایش وزن و مشکلات تغذیه‌ای منجر شود.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی", "واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["محیط زیست", "اقتصاد"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده", "اجتماع(مدرس)"] } }
                        ]
                    }
                ]
            },
            {
                domainId: 7,
                domainName: "پیامد های جسمانی- روانی تغذیه نامناسب",
                problems: [
                    {
                        problemId: 701,
                        problemName: "تغییرات الگوی خواب که زمان‌بندی وعده‌های غذایی را مختل می‌کند",
                        solutions: [
                            { id: 65, solution: "آموزش در مورد تنظیم روتین‌های غذایی منظم", problemDescription: "الگوهای خواب نامنظم بر علائم گرسنگی و نظم وعده‌های غذایی تأثیر می‌گذارد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودتنظیمی", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 66, solution: "اهمیت بهداشت خواب برای الگوهای غذایی پایدار", problemDescription: "آگاهی از ارتباط خواب و تغذیه، به دانش‌آموزان برای ایجاد یک سبک زندگی سالم و یکپارچه کمک می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } }
                        ]
                    },
                    {
                        problemId: 702,
                        problemName: "تلاش‌های نافرجام برای تغییر عادات غذایی",
                        solutions: [
                            { id: 67, solution: "گروه‌های حمایتی برای تغییرات غذایی پایدار", problemDescription: "دانش‌آموزان برای حفظ عادات سالم تلاش می‌کنند و اغلب به رفتارهای قدیمی باز می‌گردند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی", "واسطه گری"], "سازهای تئوری شناخت اجتماعی": ["محیط", "خودکارآمدی"], "سطوح پیشگیری": ["دو"], "تمرکز بوم شناختی": ["فرد", "اجتماع(مدرس)"] } },
                            { id: 68, solution: "تکنیک‌های ساخت عادت و حفظ رژیم‌های غذایی جدید", problemDescription: "یادگیری روش‌های علمی برای ایجاد عادت‌های جدید، احتمال موفقیت و پایداری رفتار را افزایش می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودتنظیمی", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } }
                        ]
                    },
                    {
                        problemId: 703,
                        problemName: "نوسانات وزن ناشی از استرس امتحان",
                        solutions: [
                            { id: 69, solution: "تکنیک‌های آرامش برای مدیریت استرس", problemDescription: "تغییرات اشتهای ناشی از استرس در طول امتحانات منجر به نوسانات وزن می‌شود.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودتنظیمی", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 70, solution: "فعالیت‌های کاهش استرس قبل از امتحانات", problemDescription: "برنامه‌های گروهی مانند ورزش یا مدیتیشن در مدرسه، به کاهش استرس جمعی کمک می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } },
                            { id: 71, solution: "تشویق به استفاده از میان‌وعده‌های مغذی محلی", problemDescription: "استفاده از محصولات محلی و سالم، جایگزین مناسبی برای خوراکی‌های ناسالم در دوران پراسترس است.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["اقتصاد", "محیط زیست"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده"] } }
                        ]
                    },
                    {
                        problemId: 704,
                        problemName: "سردرد ناشی از غذاهای چرب یا فست فود",
                        solutions: [
                            { id: 72, solution: "آموزش در مورد تأثیر چربی‌های ناسالم بر سلامت", problemDescription: "مصرف غذاهای پرچرب و فرآوری شده می‌تواند باعث سردرد شود.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش", "خودکارآمدی"], "سطوح پیشگیری": ["دو"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 73, solution: "ترویج جایگزین‌های میان‌وعده کم‌چرب", problemDescription: "فراهم کردن گزینه‌های کم‌چرب در بوفه مدرسه، انتخاب سالم را برای دانش‌آموزان آسان‌تر می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["اقتصاد"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } },
                            { id: 74, solution: "آموزش مهارت‌های خواندن برچسب غذایی به دانش‌آموزان", problemDescription: "این مهارت به دانش‌آموزان کمک می‌کند تا از محتوای چربی و قند مواد غذایی آگاه شوند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 75, solution: "آموزش مهارت‌های خواندن برچسب غذایی به والدین", problemDescription: "والدین با یادگیری این مهارت، می‌توانند خریدهای سالم‌تری برای خانواده انجام دهند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده"] } }
                        ]
                    },
                    {
                        problemId: 705,
                        problemName: "مشکلات گوارشی ناشی از تغذیه ناسالم",
                        solutions: [
                            { id: 76, solution: "کارگاه‌های مرتبط با سلامت گوارش", problemDescription: "مصرف مکرر غذاهای فرآوری شده منجر به ناراحتی گوارشی می‌شود.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["انتظارارزش", "خودکارآمدی"], "سطوح پیشگیری": ["دو"], "تمرکز بوم شناختی": ["فرد", "اجتماع(مدرس)"] } },
                            { id: 77, solution: "حمایت همتایان در مورد انتخاب‌های غذایی سالم", problemDescription: "تشکیل گروه‌های حمایتی بین دانش‌آموزان، انگیزه برای پایبندی به رژیم غذایی سالم را افزایش می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "فرد"] } }
                        ]
                    }
                ]
            },
            {
                domainId: 8,
                domainName: "تأثیرات عوامل اقلیمی، اجتماعی-فرهنگی",
                problems: [
                    {
                        problemId: 801,
                        problemName: "تأثیر تبلیغات بر رفتارهای غذایی ناسالم",
                        solutions: [
                            { id: 78, solution: "تشویق مشارکت خانواده در آگاه سازی دانش آموزان", problemDescription: "تبلیغات با ترویج گزینه‌های پر کالری بر انتخاب‌های غذایی ناسالم تأثیر می‌گذارد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی", "واسطه گری"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده", "جامعه"] } },
                            { id: 79, solution: "تبلیغ کمپین‌های تغذیه سالم محور در مدارس", problemDescription: "اجرای کمپین‌های جذاب و مثبت، می‌تواند با پیام‌های تبلیغاتی ناسالم مقابله کند.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی", "واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["سیاست", "علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "جامعه"] } }
                        ]
                    },
                    {
                        problemId: 802,
                        problemName: "تمایل به مصرف غذاهای ناسالم به دلیل تبلیغات جذاب",
                        solutions: [
                            { id: 80, solution: "برنامه‌های سواد رسانه‌ای در مدارس برای شناسایی تبلیغات گمراه‌کننده", problemDescription: "تبلیغات غذاهای ناسالم را جذاب می‌کند و منجر به انتخاب‌های غذایی ضعیف می‌شود.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "خودتنظیمی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "اجتماع(مدرس)"] } }
                        ]
                    },
                    {
                        problemId: 803,
                        problemName: "رسانه‌های اجتماعی و روندهای غذایی ناسالم",
                        solutions: [
                            { id: 81, solution: "کمپین‌های آنلاین و آفلاین مثبت", problemDescription: "رسانه‌های اجتماعی روندها و انتخاب‌های غذایی ناسالم را در بین دانش‌آموزان تشویق می‌کنند.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری", "حمایت طلبی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری", "تغییرات اجتماعی-اقتصادی"], "سازهای تئوری شناخت اجتماعی": ["محیط", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["جامعه"] } }
                        ]
                    },
                    {
                        problemId: 804,
                        problemName: "فساد مواد غذایی در محیط‌های گرم",
                        solutions: [
                            { id: 82, solution: "آموزش ایمنی مواد غذایی", problemDescription: "در محیط‌های گرم، مثل استان خوزستان به دلیل فساد مواد غذایی دانش‌آموزان از آوردن لقمه سالم به مدرسه ناتوانند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["محیط زیست", "علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده"] } },
                            { id: 83, solution: "استفاده از غذاهای سالم که دیرتر فاسد می‌شوند", problemDescription: "معرفی گزینه‌های غذایی مقاوم به گرما، امکان به همراه داشتن میان‌وعده سالم را فراهم می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد", "خانواده"] } }
                        ]
                    },
                    {
                        problemId: 805,
                        problemName: "مصرف غذاهای پرچرب محلی",
                        solutions: [
                            { id: 84, solution: "ارائه مطالب آموزشی و کارگاه‌های طرز تهیه غذاهای سنتی با محتوای چربی کمتر", problemDescription: "برخی رژیم‌های غذایی محلی شامل غذاهای پرچرب و سنتی هستند که مصرف آنها می‌تواند به سلامت آسیب بزند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری", "تغییرات اجتماعی-اقتصادی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده", "جامعه"] } },
                            { id: 85, solution: "استفاده از چربی‌های سالم‌تر و روش‌های پخت و پز سالم‌تر به عنوان تغییراتی در غذاهای سنتی", problemDescription: "اصلاح دستور پخت‌های سنتی بدون حذف آنها، به حفظ فرهنگ و ارتقای سلامت کمک می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["خانواده"] } }
                        ]
                    },
                    {
                        problemId: 806,
                        problemName: "گرایش به عادات غذایی ناسالم به دلیل همسالان",
                        solutions: [
                            { id: 86, solution: "برگزاری کمپین های تغذیه سالم با رهبری همتایان", problemDescription: "دوستان و همسالان می‌توانند باعث گرایش به عادات غذایی ناسالم شوند", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی", "واسطه گری"], "سازهای تئوری شناخت اجتماعی": ["محیط", "خودکارآمدی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "فرد"] } },
                            { id: 87, solution: "تشویق الگوهای نقش مثبت", problemDescription: "معرفی دانش‌آموزان موفق و سالم به عنوان الگو، تاثیر مثبتی بر همسالان دارد.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "سازهای تئوری شناخت اجتماعی": ["محیط", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)", "جامعه"] } }
                        ]
                    },
                    {
                        problemId: 807,
                        problemName: "فشارهای اجتماعی بر تصویر بدن و تأثیر آن بر انتخاب‌های تغذیه‌ای",
                        solutions: [
                            { id: 88, solution: "آموزش و افزایش آگاهی درباره تصویر بدن و پذیرش خود", problemDescription: "فشارهای اجتماعی برای داشتن بدنی خاص بر انتخاب‌های تغذیه‌ای تأثیر می‌گذارد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "خودتنظیمی"], "سطوح پیشگیری": ["یک", "دو"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 89, solution: "ترویج الگوهای مثبت تصویر بدن در رسانه‌های آموزشی", problemDescription: "نمایش تنوع در تصاویر بدن در رسانه‌های مدرسه، به عادی‌سازی و پذیرش کمک می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["واسطه گری"], "عوامل اجتماعی موثر بر سلامت": ["علم وفناوری"], "سازهای تئوری شناخت اجتماعی": ["محیط", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["جامعه", "اجتماع(مدرس)"] } },
                            { id: 90, solution: "ایجاد محیطی مثبت و بدون قضاوت در مدرسه", problemDescription: "سیاست‌های ضد قلدری و ایجاد فضای حمایتی، استرس ناشی از تصویر بدن را کاهش می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["حمایت طلبی"], "سازهای تئوری شناخت اجتماعی": ["محیط"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["اجتماع(مدرس)"] } },
                            { id: 91, solution: "تشویق به فعالیت‌های ورزشی و تفریحی به‌جای تأکید بر تغییر ظاهر", problemDescription: "تمرکز بر توانایی‌ها و لذت بردن از ورزش، توجه را از ظاهر به سلامت جسم و روان معطوف می‌کند.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "انتظارارزش"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } },
                            { id: 92, solution: "آموزش مهارت‌های مدیریت فشار اجتماعی", problemDescription: "کسب مهارت 'نه' گفتن و مقاومت در برابر فشار همسالان، به دانش‌آموزان قدرت انتخاب می‌دهد.", factors: { "استراتژی‌های ارتقای سلامت": ["توانمندسازی"], "سازهای تئوری شناخت اجتماعی": ["خودکارآمدی", "خودتنظیمی"], "سطوح پیشگیری": ["یک"], "تمرکز بوم شناختی": ["فرد"] } }
                        ]
                    }
                ]
            }
        ];
        
        // --- TRANSLATION DATA ---
        // NOTE: Only UI and a sample of data is translated to demonstrate functionality.
        const translations = {
            fa: {
                mainTitle: "جعبه راه‌حل‌ها",
                subtitle: "پیمایش چالش‌های تغذیه‌ای نوجوانان با راه‌حل‌های مبتنی بر شواهد",
                searchPlaceholder: "جستجو در دامنه‌ها، مشکلات و راه‌حل‌ها...",
                footerText: "طراحی و توسعه: دکتر فاطمه زارعی",
                problemAnalysisTitle: "مسئله شناسی",
                helpTitle: "راهنمای جعبه راه‌حل‌ها",
                helpIntroTitle: "مقدمه",
                helpIntroText: `این پلتفرم به عنوان یک ابزار تصمیم‌یار برای برنامه‌ریزان آموزش بهداشت و ارتقای سلامت طراحی شده است. هدف اصلی "جعبه راه‌حل‌ها"، ارائه مجموعه‌ای از راه‌حل‌های مبتنی بر شواهد برای مقابله با مشکلات تغذیه‌ای نوجوانان است. شما می‌توانید با پیمایش در میان دامنه‌ها و مشکلات، به راه‌حل مناسب دست یابید و عوامل کلیدی مرتبط با هر راه‌حل را مشاهده نمایید.`,
                helpHowToTitle: "نحوه استفاده",
                helpHowToSteps: `<li><b>انتخاب دامنه:</b> از صفحه اصلی، یکی از دامنه‌های کلی مشکلات تغذیه‌ای را انتخاب کنید.</li><li><b>انتخاب مشکل:</b> پس از انتخاب دامنه، لیستی از مشکلات مرتبط نمایش داده می‌شود. مشکل مورد نظر خود را انتخاب کنید.</li><li><b>بررسی راه‌حل‌ها:</b> با انتخاب مشکل، تمام راه‌حل‌های پیشنهادی برای آن نمایش داده می‌شوند.</li><li><b>مشاهده جزئیات:</b> با کلیک بر روی هر راه‌حل، پنجره‌ای باز می‌شود که شامل شرح دقیق مشکل و تحلیل کامل راه‌حل بر اساس دسته‌بندی‌های مختلف (استراتژی‌های ارتقای سلامت، عوامل اجتماعی، سطوح پیشگیری و...) است.</li>`,
                helpScientificTitle: "شناسنامه علمی",
                helpScientificText: `محتوای این پلتفرم بر گرفته از رساله دکتری رشته آموزش بهداشت و ارتقای سلامت سرکار خانم <strong>نسرین مهرجویان</strong> با عنوان "تدوین جعبه راه حل های بهبود رفتارهای تغذیه ای دختران مدارس استان خوزستان: یک مطالعه ترکیبی" می‌باشد.<br>این پژوهش مورد تایید مرکز تحقیقات اخلاق پزشکی دانشگاه تربیت مدرس <strong>[IR.MODARES.REC.1402.247]</strong> قرار گرفته است.<br><br><strong>اساتید راهنما:</strong> سرکار خانم دکتر فاطمه زارعی، آقای دکتر فضل اله غفرانی پور<br><strong>استاد مشاور:</strong> آقای دکتر فضل اله احمدی<br>(اعضای هیات علمی دانشکده علوم پزشکی، دانشگاه تربیت مدرس)`,
                helpContactTitle: "ارتباط با ما",
                helpContactText: "برای اطلاعات بیشتر و همکاری‌های علمی، می‌توانید از طریق ایمیل زیر در ارتباط باشید:",
                breadcrumbDomains: "دامنه‌ها",
                breadcrumbStart: "برای شروع یک دامنه را انتخاب کنید.",
                problemsCount: "مشکل",
                solutionsCount: "راه‌حل",
                noResults: "هیچ نتیجه‌ای یافت نشد.",
                searchResultsTitle: "نتایج جستجو برای:",
                backToDomains: "بازگشت به لیست دامنه‌ها",
            },
            en: {
                mainTitle: "Solution Box",
                subtitle: "Navigating adolescent nutritional challenges with evidence-based solutions",
                searchPlaceholder: "Search in domains, problems, and solutions...",
                footerText: "Design and Development: Dr. Fatemeh Zarei",
                problemAnalysisTitle: "Problem Analysis",
                helpTitle: "Solution Box Guide",
                helpIntroTitle: "Introduction",
                helpIntroText: "This platform is designed as a decision support tool for health education and promotion planners. The main goal of the 'Solution Box' is to provide a collection of evidence-based solutions to address adolescent nutritional problems. You can navigate through domains and problems to find appropriate solutions and view the key factors associated with each solution.",
                helpHowToTitle: "How to Use",
                helpHowToSteps: `<li><b>Select Domain:</b> From the main page, choose one of the general domains of nutritional problems.</li><li><b>Select Problem:</b> After selecting a domain, a list of related problems will be displayed. Choose your desired problem.</li><li><b>Review Solutions:</b> By selecting a problem, all proposed solutions for it are shown.</li><li><b>View Details:</b> Clicking on each solution opens a window with a detailed problem description and a full analysis of the solution based on various categories (health promotion strategies, social factors, prevention levels, etc.).</li>`,
                helpScientificTitle: "Scientific Acknowledgment",
                helpScientificText: `The content of this platform is derived from the doctoral dissertation in Health Education and Promotion by Ms. <strong>Nasrin Mehrjouyan</strong>, titled "Development of a Solution Box to Improve Nutritional Behaviors of School Girls in Khuzestan Province: A Mixed-Method Study."<br>This research has been approved by the Medical Ethics Research Center of Tarbiat Modares University <strong>[IR.MODARES.REC.1402.247]</strong>.<br><br><strong>Supervisors:</strong> Dr. Fatemeh Zarei, Dr. Fazlollah Ghofranipour<br><strong>Advisor:</strong> Dr. Fazlollah Ahmadi<br>(Faculty members of the Faculty of Medical Sciences, Tarbiat Modares University)`,
                helpContactTitle: "Contact Us",
                helpContactText: "For more information and scientific collaboration, you can get in touch via the following email:",
                breadcrumbDomains: "Domains",
                breadcrumbStart: "Select a domain to start.",
                problemsCount: "Problems",
                solutionsCount: "Solutions",
                noResults: "No results found.",
                searchResultsTitle: "Search results for:",
                backToDomains: "Back to domains list",
            },
            ar: {
                mainTitle: "صندوق الحلول",
                subtitle: "تصفح تحديات التغذية لدى المراهقين بحلول قائمة على الأدلة",
                searchPlaceholder: "ابحث في المجالات، المشاكل، والحلول...",
                footerText: "تصميم وتطوير: د. فاطمة زارعي",
                problemAnalysisTitle: "تحليل المشكلة",
                helpTitle: "دليل صندوق الحلول",
                helpIntroTitle: "مقدمة",
                helpIntroText: "تم تصميم هذه المنصة كأداة لدعم القرار لمخططي التثقيف الصحي وتعزيز الصحة. الهدف الرئيسي من 'صندوق الحلول' هو توفير مجموعة من الحلول القائمة على الأدلة لمعالجة مشاكل التغذية لدى المراهقين. يمكنك التنقل عبر المجالات والمشاكل للعثور على الحلول المناسبة وعرض العوامل الرئيسية المرتبطة بكل حل.",
                helpHowToTitle: "كيفية الاستخدام",
                helpHowToSteps: `<li><b>اختر المجال:</b> من الصفحة الرئيسية، اختر أحد المجالات العامة لمشاكل التغذية.</li><li><b>اختر المشكلة:</b> بعد اختيار المجال، ستظهر قائمة بالمشاكل ذات الصلة. اختر المشكلة التي تريدها.</li><li><b>مراجعة الحلول:</b> عند اختيار مشكلة، يتم عرض جميع الحلول المقترحة لها.</li><li><b>عرض التفاصيل:</b> يؤدي النقر فوق كل حل إلى فتح نافذة تحتوي على وصف تفصيلي للمشكلة وتحليل كامل للحل بناءً على فئات مختلفة (استراتيجيات تعزيز الصحة، العوامل الاجتماعية، مستويات الوقاية، إلخ).</li>`,
                helpScientificTitle: "الإقرار العلمي",
                helpScientificText: `محتوى هذه المنصة مستمد من رسالة الدكتوراه في التثقيف الصحي وتعزيز الصحة للسيدة <strong>نسرين مهرجويان</strong>، بعنوان "تطوير صندوق حلول لتحسين السلوكيات الغذائية لطالبات المدارس في محافظة خوزستان: دراسة مختلطة المنهج".<br>تمت الموافقة على هذا البحث من قبل مركز أبحاث أخلاقيات الطب بجامعة تربيت مدرس <strong>[IR.MODARES.REC.1402.247]</strong>.<br><br><strong>المشرفون:</strong> د. فاطمة زارعي، د. فضل الله غفراني بور<br><strong>المستشار:</strong> د. فضل الله أحمدي<br>(أعضاء هيئة التدريس بكلية العلوم الطبية، جامعة تربيت مدرس)`,
                helpContactTitle: "اتصل بنا",
                helpContactText: "لمزيد من المعلومات والتعاون العلمي، يمكنك التواصل عبر البريد الإلكتر الإلكتروني التالي:",
                breadcrumbDomains: "المجالات",
                breadcrumbStart: "اختر مجالاً للبدء.",
                problemsCount: "مشاكل",
                solutionsCount: "حلول",
                noResults: "لم يتم العثور على نتائج.",
                searchResultsTitle: "نتائج البحث عن:",
                backToDomains: "العودة إلى قائمة المجالات",
            }
        };

        const factorColors = {
            "استراتژی‌های ارتقای سلامت": "bg-blue-100 text-blue-800",
            "عوامل اجتماعی موثر بر سلامت": "bg-green-100 text-green-800",
            "سازهای تئوری شناخت اجتماعی": "bg-yellow-100 text-yellow-800",
            "سطوح پیشگیری": "bg-purple-100 text-purple-800",
            "تمرکز بوم شناختی": "bg-pink-100 text-pink-800",
        };

        // --- DOM Elements ---
        const pages = document.querySelectorAll('.page');
        const breadcrumb = document.getElementById('breadcrumb');
        
        const solutionModal = document.getElementById('solution-modal');
        const helpModal = document.getElementById('help-modal');
        const solutionModalContent = document.getElementById('modal-content-solution');
        const helpModalContent = document.getElementById('modal-content-help');
        const closeModalBtns = document.querySelectorAll('.close-modal-btn');
        const helpBtn = document.getElementById('help-btn');
        const langSwitcher = document.getElementById('lang-switcher');
        const searchInput = document.getElementById('search-input');
        const googleSearchBtn = document.getElementById('google-search-btn');

        let currentLang = 'fa';
        let currentDomain = null;
        let currentProblem = null;

        // --- I18n & Translation ---
        function setLanguage(lang) {
            currentLang = lang;
            const direction = lang === 'fa' || lang === 'ar' ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;
            document.documentElement.dir = direction;

            document.querySelectorAll('[data-translate-key]').forEach(el => {
                const key = el.dataset.translateKey;
                if (translations[lang][key]) {
                    el.innerHTML = translations[lang][key];
                }
            });
            
            document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
                const key = el.dataset.translatePlaceholder;
                if (translations[lang][key]) {
                    el.placeholder = translations[lang][key];
                }
            });

            langSwitcher.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });

            // Re-render current view to apply data translations
            if (document.getElementById('domains-page').classList.contains('active')) {
                renderDomains();
            } else if (document.getElementById('problems-page').classList.contains('active')) {
                renderProblems(currentDomain.domainId);
            } else if (document.getElementById('solutions-page').classList.contains('active')) {
                renderSolutions(currentProblem.solutions);
            } else if (document.getElementById('search-results-page').classList.contains('active')) {
                 performSearch(searchInput.value);
            }
            updateBreadcrumb();
        }

        // --- Navigation & State Management ---
        function showPage(pageId) {
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            updateBreadcrumb();
        }

        function updateBreadcrumb() {
            breadcrumb.innerHTML = '';
            const homeText = translations[currentLang].breadcrumbDomains || 'Domains';
            const homeLink = `<a href="#" class="text-indigo-600 hover:underline" onclick="navigateToDomains()">${homeText}</a>`;
            
            if (searchInput.value) {
                 breadcrumb.innerHTML = `<p>${translations[currentLang].searchResultsTitle || 'Search results for:'} "${searchInput.value}"</p>`;
                 return;
            }

            if (!currentDomain) {
                breadcrumb.innerHTML = `<p>${translations[currentLang].breadcrumbStart || 'Select a domain to start.'}</p>`;
                return;
            }
            let html = homeLink;
            if (currentProblem) {
                html += ` <span class="mx-2">/</span> <a href="#" class="text-indigo-600 hover:underline" onclick="navigateToProblems(${currentDomain.domainId})">${currentDomain.domainName}</a>`;
                html += ` <span class="mx-2">/</span> <span class="text-gray-800">${currentProblem.problemName}</span>`;
            } else {
                html += ` <span class="mx-2">/</span> <span class="text-gray-800">${currentDomain.domainName}</span>`;
            }
            breadcrumb.innerHTML = html;
        }

        window.navigateToDomains = () => {
            currentDomain = null;
            currentProblem = null;
            searchInput.value = '';
            renderDomains();
            showPage('domains-page');
        };

        window.navigateToProblems = (domainId) => {
            currentDomain = solutionBoxData.find(d => d.domainId === domainId);
            currentProblem = null;
            renderProblems(domainId);
            showPage('problems-page');
        };

        // --- Rendering Functions ---
        function renderDomains() {
            const container = document.getElementById('domains-container');
            container.innerHTML = '';
            solutionBoxData.forEach(domain => {
                const card = document.createElement('div');
                card.className = 'card-item p-6';
                card.innerHTML = `<h3 class="font-bold text-xl text-gray-800">${domain.domainName}</h3><p class="text-gray-500 mt-2">${domain.problems.length} ${translations[currentLang].problemsCount || 'Problems'}</p>`;
                card.addEventListener('click', () => navigateToProblems(domain.domainId));
                container.appendChild(card);
            });
        }

        function renderProblems(domainId) {
            const container = document.getElementById('problems-container');
            container.innerHTML = '';
            const domain = solutionBoxData.find(d => d.domainId === domainId);
            if (!domain) return;

            domain.problems.forEach(problem => {
                const card = document.createElement('div');
                card.className = 'card-item p-6';
                card.innerHTML = `<h3 class="font-bold text-lg text-gray-800">${problem.problemName}</h3><p class="text-gray-500 mt-2">${problem.solutions.length} ${translations[currentLang].solutionsCount || 'Solutions'}</p>`;
                card.addEventListener('click', () => {
                    currentProblem = problem;
                    renderSolutions(problem.solutions);
                    showPage('solutions-page');
                });
                container.appendChild(card);
            });
        }

        function renderSolutions(solutions) {
            const container = document.getElementById('solutions-container');
            container.innerHTML = '';
            solutions.forEach(solution => {
                const card = document.createElement('div');
                card.className = 'card-item p-6';
                card.innerHTML = `<h3 class="font-bold text-lg text-gray-800">${solution.solution}</h3>`;
                card.addEventListener('click', () => showSolutionModal(solution));
                container.appendChild(card);
            });
        }

        // --- Search Functionality ---
        function performSearch(term) {
            if (!term) {
                navigateToDomains();
                return;
            }
            const lowerCaseTerm = term.toLowerCase();
            const results = [];
            solutionBoxData.forEach(domain => {
                domain.problems.forEach(problem => {
                    problem.solutions.forEach(solution => {
                        if (
                            domain.domainName.toLowerCase().includes(lowerCaseTerm) ||
                            problem.problemName.toLowerCase().includes(lowerCaseTerm) ||
                            solution.solution.toLowerCase().includes(lowerCaseTerm) ||
                            solution.problemDescription.toLowerCase().includes(lowerCaseTerm)
                        ) {
                            results.push({ ...solution, problemName: problem.problemName, domainName: domain.domainName });
                        }
                    });
                });
            });
            renderSearchResults(results);
            showPage('search-results-page');
        }

        function renderSearchResults(results) {
            const container = document.getElementById('search-results-container');
            if (results.length === 0) {
                container.innerHTML = `<p class="text-center text-gray-500">${translations[currentLang].noResults || 'No results found.'}</p>`;
                return;
            }
            container.innerHTML = results.map(result => `
                <div class="card-item p-6">
                    <p class="text-sm text-indigo-600 font-semibold">${result.domainName} > ${result.problemName}</p>
                    <h3 class="font-bold text-lg text-gray-800 mt-1">${result.solution}</h3>
                </div>
            `).join('');
        }


        // --- Modal Functions ---
        function showModal(modalElement, contentElement) {
            modalElement.classList.remove('hidden');
            setTimeout(() => contentElement.classList.remove('scale-95', 'opacity-0'), 10);
        }

        function hideModal(modalElement, contentElement) {
            contentElement.classList.add('scale-95', 'opacity-0');
            setTimeout(() => modalElement.classList.add('hidden'), 300);
        }

        function showSolutionModal(solutionData) {
            document.getElementById('modal-solution-text').textContent = solutionData.solution;
            document.getElementById('modal-problem').textContent = currentProblem.problemName;
            document.getElementById('modal-problem-description').textContent = solutionData.problemDescription || 'شرح جزئیات برای این مورد ارائه نشده است.';
            
            const factorsContainer = document.getElementById('modal-factors-container');
            factorsContainer.innerHTML = '';

            for (const category in solutionData.factors) {
                const categoryDiv = document.createElement('div');
                categoryDiv.innerHTML = `<h5 class="font-bold mb-2">${category}</h5>`;
                const tagsDiv = document.createElement('div');
                tagsDiv.className = 'flex flex-wrap gap-2';
                solutionData.factors[category].forEach(factor => {
                    const colorClass = factorColors[category] || 'bg-gray-100 text-gray-800';
                    tagsDiv.innerHTML += `<span class="tag ${colorClass}">${factor}</span>`;
                });
                categoryDiv.appendChild(tagsDiv);
                factorsContainer.appendChild(categoryDiv);
            }
            showModal(solutionModal, solutionModalContent);
        }

        // --- Initial Load & Event Listeners ---
        setLanguage(currentLang);

        helpBtn.addEventListener('click', () => showModal(helpModal, helpModalContent));
        
        closeModalBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                hideModal(solutionModal, solutionModalContent);
                hideModal(helpModal, helpModalContent);
            });
        });

        [solutionModal, helpModal].forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    hideModal(solutionModal, solutionModalContent);
                    hideModal(helpModal, helpModalContent);
                }
            });
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                hideModal(solutionModal, solutionModalContent);
                hideModal(helpModal, helpModalContent);
            }
        });

        langSwitcher.addEventListener('click', (e) => {
            if (e.target.matches('.lang-btn')) {
                setLanguage(e.target.dataset.lang);
            }
        });

        searchInput.addEventListener('input', (e) => {
            performSearch(e.target.value);
        });

        googleSearchBtn.addEventListener('click', () => {
            const query = searchInput.value;
            if (query) {
                window.open(`https://www.google.com/search?q=${encodeURIComponent(query)}`, '_blank');
            }
        });

    });
    </script>
</body>
</html>
